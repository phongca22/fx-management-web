<div fxFill fxLayout="column">
  <mat-toolbar color="primary" fxLayout="row" fxLayoutGap="16px">
    <button mat-icon-button (click)="close()">
      <mat-icon svgIcon="keyboard-backspace"></mat-icon>
    </button>
    <div fxFlex class="mat-title mb-0 text-overflow">{{user.name}}</div>
    <button mat-icon-button [matMenuTriggerFor]="menu">
      <mat-icon svgIcon="dots-horizontal"></mat-icon>
    </button>
    <mat-menu #menu="matMenu">
      <button mat-menu-item (click)="addNote()">
        <mat-icon svgIcon="comment-plus-outline"></mat-icon>
        <span>{{'userInfo.addNote' | translate}}</span>
      </button>
      <button mat-menu-item (click)="addSupports()" *ngIf="isDoctor || isManager">
        <mat-icon svgIcon="clipboard-edit-outline"></mat-icon>
        <span>{{'userInfo.addSupport' | translate}}</span>
      </button>
      <button mat-menu-item (click)="edit()" *ngIf="isDoctor || isCoordinator || isAdmin">
        <mat-icon svgIcon="account-edit-outline"></mat-icon>
        <span>{{'userInfo.editInfo' | translate}}</span>
      </button>
      <ng-container *ngIf="isAdmin || isImporter">
        <mat-divider></mat-divider>
        <button mat-menu-item (click)="createNote()">
          <mat-icon svgIcon="comment-plus-outline"></mat-icon>
          <span>{{'userInfo.createNote' | translate}}</span>
        </button>
        <button mat-menu-item (click)="createSupports()">
          <mat-icon svgIcon="clipboard-edit-outline"></mat-icon>
          <span>{{'userInfo.createSupport' | translate}}</span>
        </button>
      </ng-container>
    </mat-menu>
  </mat-toolbar>
  <div fxFlex class="wrapper">
    <app-user-note [user]="user" [(notes)]="notes"></app-user-note>
  </div>
  <mat-divider></mat-divider>
  <div fxLayout="row" fxLayoutAlign=" center" class="doctor-wrapper">
    <div (click)="editDoctor()" fxFlex>
      <div class="mat-caption gray-color">{{'userInfo.doctor' | translate}}</div>
      <div class="mat-subheading-2 mb-0">{{user.doctor?.info?.name}}</div>
    </div>
    <div (click)="editCondition()" fxFlex>
      <div class="mat-caption gray-color">{{'userInfo.condition' | translate}}</div>
      <div class="mat-subheading-2 mb-0">{{user.condition | userCondition}}</div>
    </div>
  </div>
</div>